# KnowTax 智知税典 - 用户使用指南

## 📋 目录

- [系统概述](#系统概述)
- [登录与角色](#登录与角色)
- [管理员功能指南](#管理员功能指南)
- [经理功能指南](#经理功能指南)
- [客服功能指南](#客服功能指南)
- [后端系统使用](#后端系统使用)
- [常见问题](#常见问题)
- [操作检查清单](#操作检查清单)

## 系统概述

KnowTax 智知税典是一个智能税务知识管理系统，提供：
- 📚 税务政策库管理
- 💬 智能问答系统
- 🔍 专业词库查询
- 📊 数据可视化分析
- 🔐 分级权限管理
- 🚀 后端API服务

### 系统架构
```
前端系统 (Flask) - 端口 12345
├── 用户界面和角色管理
├── 数据展示和可视化
└── 业务逻辑处理

后端系统 (FastAPI) - 端口 8000
├── 税务公告生成
├── 版本管理系统
├── 智能爬虫模块
├── 知识库管理
└── 问答系统API
```

## 登录与角色

### 🚀 快速启动

1. **启动前端系统**
   ```bash
   pip install -r requirements.txt
   python app.py
   ```
   访问: http://localhost:12345

2. **启动后端系统**
   ```bash
   cd backend
   pip install -r requirements.txt
   python start_backend.py
   ```
   访问: http://localhost:8000

3. **访问集成控制台**
   前端登录后，点击侧边栏"后端系统集成"或直接访问:
   http://localhost:12345/integration/dashboard

### 👥 预设账户

| 角色 | 用户名 | 密码 | 权限级别 |
|------|--------|------|----------|
| 管理员 | admin_user | admin_pass | 系统管理 |
| 经理 | manager_user | manager_pass | 内容管理 |
| 客服 | service_user | service_pass | 查询服务 |

### 🔑 登录步骤

1. 打开浏览器访问 http://localhost:12345
2. 点击"登录"按钮
3. 选择对应角色
4. 输入用户名和密码
5. 点击"登录"进入系统

---

## 管理员功能指南

### 🎯 管理员职责
- 系统配置管理
- 用户权限分配
- 数据库维护
- 系统监控

### 📋 功能清单

#### ✅ 用户权限管理
**访问路径**: 主页 → 用户状态监控

**操作步骤**:
1. 登录管理员账户
2. 点击"用户状态监控"
3. 查看当前在线用户
4. 管理用户权限设置

**可执行操作**:
- [ ] 查看用户在线状态
- [ ] 管理用户权限
- [ ] 监控系统访问
- [ ] 用户操作日志

#### ✅ 系统配置管理
**访问路径**: 主页 → 系统配置

**操作步骤**:
1. 进入系统配置界面
2. 调整系统参数
3. 保存配置更改

**可执行操作**:
- [ ] 修改系统设置
- [ ] 配置数据库连接
- [ ] 设置系统参数
- [ ] 管理系统资源

#### ✅ 后端系统管理
**访问路径**: http://localhost:12345/backend/dashboard

**操作步骤**:
1. 确保后端服务运行
2. 访问后端管理界面
3. 管理知识库和问答系统

**可执行操作**:
- [ ] 知识库管理（增删改查）
- [ ] 问答系统管理
- [ ] 爬虫状态监控
- [ ] 版本控制管理
- [ ] 税务公告生成

#### ✅ 数据可视化分析
**访问路径**: 主页 → 数据总览

**操作步骤**:
1. 查看数据统计图表
2. 分析资源分布
3. 监控系统性能

**可执行操作**:
- [ ] 查看资源总量构成
- [ ] 分析数据统计
- [ ] 监控系统状态
- [ ] 生成统计报告

### 🔧 高级功能

#### ✅ 版本管理
**访问路径**: /backend/version-control

**操作步骤**:
1. 查看当前版本信息
2. 创建新版本发布
3. 管理版本历史

**操作清单**:
- [ ] 创建新版本: 输入版本号和发布说明
- [ ] 查看版本历史: 所有版本的详细信息
- [ ] 版本回滚: 回退到指定版本
- [ ] 变更追踪: 查看版本间差异

#### ✅ 系统备份
**访问路径**: /backend/dashboard → 备份功能

**操作步骤**:
1. 选择备份类型（知识库/问答/全系统）
2. 设置备份参数
3. 执行备份操作
4. 验证备份完整性

**操作清单**:
- [ ] 数据库备份
- [ ] 配置文件备份
- [ ] 日志文件备份
- [ ] 备份恢复测试

---

## 经理功能指南

### 🎯 经理职责
- 内容审核管理
- 数据质量控制
- 业务流程监控
- 团队协作管理

### 📋 功能清单

#### ✅ 用户状态管理
**访问路径**: 主页 → 用户状态管理

**操作步骤**:
1. 登录经理账户
2. 查看用户活动状态
3. 管理用户权限

**可执行操作**:
- [ ] 查看用户在线状态
- [ ] 监控用户活动
- [ ] 分配工作任务
- [ ] 用户绩效分析

#### ✅ 待审批任务管理
**访问路径**: 主页 → 待审批任务

**操作步骤**:
1. 查看待审批项目列表
2. 逐项审核内容
3. 批准或拒绝申请
4. 添加审核意见

**操作清单**:
- [ ] 内容更新审批
- [ ] 政策变更审核
- [ ] 数据修改确认
- [ ] 质量控制检查

#### ✅ 高频问题分析
**访问路径**: 主页 → 高频问题分析

**操作步骤**:
1. 查看问题统计数据
2. 分析查询趋势
3. 优化回答质量
4. 更新知识库

**操作清单**:
- [ ] 查看热门查询: 最常被搜索的问题
- [ ] 分析查询趋势: 时间段内的查询变化
- [ ] 优化回答内容: 提升回答质量
- [ ] 更新FAQ: 维护常见问题解答

#### ✅ 政策更新管理
**访问路径**: 主页 → 政策更新管理

**操作步骤**:
1. 查看政策更新通知
2. 审核政策变更
3. 更新相关文档
4. 通知相关人员

**操作清单**:
- [ ] 政策变更追踪: 监控政策更新
- [ ] 影响分析: 评估政策变更影响
- [ ] 文档更新: 同步更新相关文档
- [ ] 通知发布: 向用户发布更新通知

#### ✅ 知识库内容管理
**访问路径**: /backend/knowledge-management

**操作步骤**:
1. 访问知识库管理界面
2. 审核待发布内容
3. 编辑和优化条目
4. 管理分类标签

**操作清单**:
- [ ] 内容审核: 检查新提交的知识条目
- [ ] 质量控制: 确保内容准确性和完整性
- [ ] 分类管理: 维护知识分类体系
- [ ] 关键词优化: 优化搜索关键词

#### ✅ 问答质量管理
**访问路径**: /backend/qa-management

**操作步骤**:
1. 查看问答对列表
2. 评估回答质量
3. 优化低质量回答
4. 添加相关问题链接

**操作清单**:
- [ ] 回答质量评估: 检查回答的准确性
- [ ] 置信度调整: 调整回答的置信度分数
- [ ] 关联问题管理: 建立问题间的关联
- [ ] 用户反馈处理: 处理用户对回答的反馈

### 🔧 高级分析功能

#### ✅ 数据统计分析
**访问路径**: 主页 → 数据可视化

**操作清单**:
- [ ] 用户访问统计
- [ ] 内容使用分析  
- [ ] 搜索热词统计
- [ ] 系统性能监控

#### ✅ 爬虫监控管理
**访问路径**: /backend/crawler-monitor

**操作清单**:
- [ ] 查看爬虫运行状态
- [ ] 手动触发爬虫检查
- [ ] 处理发现的更新
- [ ] 配置检查频率

---

## 客服功能指南

### 🎯 客服职责
- 用户查询支持
- 搜索服务提供
- 问题答疑解惑
- 用户体验优化

### 📋 功能清单

#### ✅ 智能搜索服务
**访问路径**: 主页 → 搜索功能

**操作步骤**:
1. 登录客服账户
2. 使用搜索功能
3. 为用户提供查询服务
4. 记录常见问题

**操作清单**:
- [ ] 政策库搜索: 在税务政策库中查找信息
- [ ] 问答库搜索: 在问答库中查找相关回答
- [ ] 专业词库查询: 查找税务专业术语
- [ ] 全文搜索: 跨库搜索相关内容

#### ✅ 用户状态查询
**访问路径**: 主页 → 用户状态查询

**操作步骤**:
1. 输入用户信息
2. 查询用户状态
3. 提供相应服务
4. 记录服务过程

**操作清单**:
- [ ] 用户基本信息查询
- [ ] 用户权限状态查看
- [ ] 服务历史记录查询
- [ ] 问题反馈记录

#### ✅ 智能问答服务
**访问路径**: /backend/qa-management → 测试功能

**操作步骤**:
1. 接收用户问题
2. 使用智能问答系统
3. 提供准确回答
4. 收集用户反馈

**操作清单**:
- [ ] 问题理解: 理解用户问题意图
- [ ] 答案匹配: 从问答库中匹配最佳答案
- [ ] 置信度评估: 评估回答的可信度
- [ ] 人工干预: 在需要时提供人工回答

#### ✅ 知识库查询
**访问路径**: /backend/enhanced-policies

**操作步骤**:
1. 访问增强的政策库
2. 使用高级搜索功能
3. 筛选相关政策
4. 提供详细解答

**操作清单**:
- [ ] 按分类浏览: 按税种分类浏览政策
- [ ] 关键词搜索: 使用关键词精确查找
- [ ] 时间筛选: 按生效时间筛选政策
- [ ] 状态过滤: 查看有效/废止状态的政策

### 🔧 服务工具

#### ✅ 快速查询工具
**访问路径**: 主页搜索框

**操作清单**:
- [ ] 税率查询: 快速查询各种税率
- [ ] 申报期限查询: 查询税务申报期限
- [ ] 优惠政策查询: 查询税收优惠政策
- [ ] 办税指南查询: 查询办税流程指南

#### ✅ 用户服务记录
**操作清单**:
- [ ] 问题记录: 记录用户提出的问题
- [ ] 解答过程: 记录问题解答过程
- [ ] 用户满意度: 收集用户满意度反馈
- [ ] 改进建议: 收集系统改进建议

---

## 后端系统使用

### 🚀 后端管理界面

#### 访问方式
1. **直接访问**: http://localhost:8000
2. **前端集成**: http://localhost:12345/backend/dashboard

#### 主要功能

##### ✅ 知识库管理
**路径**: /backend/knowledge-management

**功能清单**:
- [ ] 添加知识条目
  - 输入标题、内容、分类
  - 设置关键词和生效日期
  - 确认提交
- [ ] 编辑现有条目
  - 搜索目标条目
  - 修改内容信息
  - 保存更改
- [ ] 删除过期条目
  - 选择目标条目
  - 确认删除操作
- [ ] 批量导入数据
  - 准备JSON格式文件
  - 使用导入功能
  - 验证导入结果

##### ✅ 问答系统管理
**路径**: /backend/qa-management

**功能清单**:
- [ ] 添加问答对
  - 输入问题和回答
  - 设置分类和关键词
  - 调整置信度
- [ ] 测试问答效果
  - 输入测试问题
  - 查看回答质量
  - 调整参数
- [ ] 管理问答质量
  - 审核问答准确性
  - 优化回答内容
  - 建立问题关联

##### ✅ 公告生成器
**路径**: /backend/announcement-generator

**功能清单**:
- [ ] 生成示例公告
  - 点击生成按钮
  - 查看生成结果
  - 下载HTML文件
- [ ] 创建自定义公告
  - 输入公告信息
  - 选择公告模板
  - 生成最终文件
- [ ] 批量公告处理
  - 准备公告数据
  - 批量生成处理
  - 验证生成结果

##### ✅ 爬虫监控
**路径**: /backend/crawler-monitor

**功能清单**:
- [ ] 查看爬虫状态
  - 检查运行状态
  - 查看最后检查时间
  - 查看错误信息
- [ ] 手动触发检查
  - 点击检查按钮
  - 等待检查完成
  - 查看检查结果
- [ ] 处理发现的更新
  - 查看更新列表
  - 处理更新内容
  - 确认更新完成

##### ✅ 版本控制
**路径**: /backend/version-control

**功能清单**:
- [ ] 创建新版本
  - 输入版本信息
  - 描述变更内容
  - 发布新版本
- [ ] 查看版本历史
  - 浏览历史版本
  - 查看变更详情
  - 比较版本差异
- [ ] 版本回滚
  - 选择目标版本
  - 确认回滚操作
  - 验证回滚结果

---

## 常见问题

### ❓ 登录问题

**Q: 无法登录系统？**
A: 
1. 确认用户名和密码正确
2. 检查是否选择了正确的角色
3. 确认系统服务正在运行
4. 清除浏览器缓存后重试

**Q: 忘记密码怎么办？**
A: 
1. 使用预设的测试账户
2. 联系系统管理员重置
3. 查看用户创建脚本 `create_user.py`

### ❓ 功能使用问题

**Q: 搜索结果不准确？**
A:
1. 尝试使用不同的关键词
2. 检查搜索词的拼写
3. 使用分类筛选功能
4. 联系经理更新知识库

**Q: 后端系统无法访问？**
A:
1. 确认后端服务已启动（端口8000）
2. 检查是否有防火墙阻拦
3. 确认依赖包已正确安装
4. 查看后端服务日志

**Q: 数据更新不及时？**
A:
1. 手动触发爬虫检查
2. 检查爬虫运行状态
3. 确认更新处理流程
4. 联系管理员检查

### ❓ 权限问题

**Q: 没有操作权限？**
A:
1. 确认当前登录角色
2. 检查功能权限要求
3. 联系管理员分配权限
4. 重新登录刷新权限

---

## 操作检查清单

### 🔍 管理员日常检查

#### 每日检查项
- [ ] 系统运行状态正常
- [ ] 用户登录活动正常
- [ ] 数据库连接稳定
- [ ] 后端服务运行正常
- [ ] 日志文件无异常错误

#### 每周检查项
- [ ] 数据库备份完成
- [ ] 系统性能指标正常
- [ ] 用户反馈处理完成
- [ ] 安全日志审查
- [ ] 版本更新计划检查

#### 每月检查项
- [ ] 系统容量规划
- [ ] 用户权限审查
- [ ] 数据清理维护
- [ ] 系统优化实施
- [ ] 培训需求评估

### 🔍 经理日常检查

#### 每日检查项
- [ ] 待审批任务处理
- [ ] 高频问题分析
- [ ] 团队工作进度
- [ ] 内容质量抽查
- [ ] 用户满意度跟踪

#### 每周检查项
- [ ] 知识库内容审核
- [ ] 问答质量评估
- [ ] 政策更新跟踪
- [ ] 数据统计分析
- [ ] 流程优化建议

### 🔍 客服日常检查

#### 每日检查项
- [ ] 搜索功能测试
- [ ] 用户咨询记录
- [ ] 问答准确性验证
- [ ] 系统响应速度
- [ ] 服务质量评估

#### 每周检查项
- [ ] 常见问题整理
- [ ] 用户反馈收集
- [ ] 知识盲点识别
- [ ] 服务流程优化
- [ ] 技能培训需求

---

## 📞 技术支持

### 联系方式
- **系统问题**: 联系管理员
- **功能咨询**: 查看本用户指南
- **Bug反馈**: 提交问题报告
- **功能建议**: 通过系统反馈功能提交

### 在线资源
- **API文档**: http://localhost:8000/docs
- **系统日志**: /data/system.log
- **用户手册**: 本文档
- **技术文档**: /docs/CODE_DOCUMENTATION.md

---

**祝您使用愉快！** ��

*最后更新: 2025年6月* 
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KnowTax 智知税典</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>
    <div class="notification-button">
        <i class="fas fa-bell"></i>
    </div>

    <div class="sidebar">
        <h2>KnowTax 智知税典</h2>
        <ul>
            <li><a href="/data/policies">税务政策库</a></li>
            <li><a href="/data/qa">问答库</a></li>
            <li><a href="/data/terms">词库</a></li>
            {% if session['role'] == 'admin' %}
            <li><a href="/admin/permissions">权限管理</a></li>
            <li><a href="/admin/user-status">用户状态</a></li>
            {% elif session['role'] == 'manager' %}
            <li><a href="/manager/user-status">用户状态</a></li>
            <li><a href="/manager/tasks">待审批任务</a></li>
            <li><a href="/manager/hotproblems">高频问题</a></li>
            <li><a href="/manager/update">政策更新</a></li>
            {% elif session['role'] == 'service' %}
            <li><a href="/service/search">搜索功能</a></li>
            <li><a href="/service/user-status">用户状态</a></li>
            {% endif %}
            <li><a href="/auth/logout">退出登录</a></li>
        </ul>
        <div class="spacer"></div>
        <div class="robot">
            <img src="/static/images/robot.png" alt="robot-image" width="170">
        </div>
    </div>
    <div class="content">
        <div class="header">
            <div class="notification-btn">
                <i class="fas fa-bell"></i>
            </div>
        </div>
        {% block content %}{% endblock %}
    </div>

    <div class="notification-panel">
        <div class="notification-header">
            <h4>通知中心</h4>
            <button class="close-notification">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="notification-section">
            <h4>提醒</h4>
            <div class="scrollable-content">
                <div class="notification-item">
                    <div class="notification-time">
                        <span class="date">2024-03-20</span>
                        <span class="time">10:30</span>
                    </div>
                    <div class="notification-content" data-full-content="这是一条测试通知，用于验证显示效果。">
                        这是一条测试通知，用于验证显示效果。
                    </div>
                </div>
                <div class="notification-item">
                    <div class="notification-time">
                        <span class="date">2024-03-20</span>
                        <span class="time">09:15</span>
                    </div>
                    <div class="notification-content" data-full-content="系统将于今晚进行例行维护，请提前做好准备。">
                        系统将于今晚进行例行维护，请提前做好准备。
                    </div>
                </div>
            </div>
        </div>
        
        <div class="memo-section">
            <div class="memo-header">
                <h4>备忘录</h4>
                <button class="add-memo"><i class="fas fa-plus"></i></button>
            </div>
            <div class="memo-list">
                <!-- 备忘录列表将通过JavaScript动态加载 -->
            </div>
        </div>
    </div>

    <div class="memo-editor">
        <div class="memo-editor-header">
            <div class="memo-title-section">
                <h3>新建备忘录</h3>
                <button class="save-btn"><i class="fas fa-save"></i> 保存</button>
            </div>
            <button class="close-editor"><i class="fas fa-times"></i></button>
        </div>
        <div class="memo-editor-content">
            <div class="memo-input-group">
                <input type="text" id="memo-title" placeholder="请输入备忘录标题..." class="memo-title-input">
                <textarea id="memo-content" placeholder="请输入备忘内容..."></textarea>
            </div>
        </div>
        <div class="memo-editor-footer">
            <button class="cancel-btn">取消</button>
        </div>
    </div>

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/notification.js"></script>
</body>

<style>
    .spacer {
        margin-bottom: 270px
    }

    .robot {
        height: 300px;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
    }
</style>


</html>
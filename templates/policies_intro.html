{% extends 'base.html' %}

{% block head %}
<style>
    .intro-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px 80px 20px 20px; /* 右侧留出空间给切换按钮 */
        background: #f8f9fa;
        min-height: 100vh;
    }
    
    .intro-header {
        background: linear-gradient(135deg, #28a745, #20c997);
        color: white;
        padding: 40px;
        border-radius: 15px;
        text-align: center;
        margin-bottom: 30px;
        box-shadow: 0 10px 30px rgba(40, 167, 69, 0.3);
    }
    
    .intro-header h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        font-weight: bold;
    }
    
    .intro-header p {
        font-size: 1.2rem;
        opacity: 0.9;
        margin: 0;
    }
    
    .content-sections {
        display: grid;
        gap: 30px;
    }
    
    .section-card {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        border-left: 5px solid #28a745;
    }
    
    .section-card h2 {
        color: #28a745;
        margin-bottom: 20px;
        font-size: 1.8rem;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
    }
    
    .feature-item {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        border-left: 3px solid #28a745;
    }
    
    .feature-item h4 {
        color: #495057;
        margin-bottom: 10px;
    }
    
    .example-box {
        background: #e8f5e8;
        border: 1px solid #c3e6cb;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
    }
    
    .example-item {
        background: white;
        padding: 15px;
        margin: 10px 0;
        border-radius: 8px;
        border-left: 4px solid #28a745;
    }
    
    .example-meta {
        display: flex;
        justify-content: space-between;
        font-size: 0.9rem;
        color: #6c757d;
        margin-top: 10px;
    }
    
    .action-buttons {
        display: flex;
        gap: 15px;
        margin-top: 30px;
        flex-wrap: wrap;
    }
    
    .btn {
        padding: 12px 24px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: bold;
        transition: all 0.3s;
        border: 2px solid transparent;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }
    
    .btn-primary {
        background: #28a745;
        color: white;
    }
    
    .btn-primary:hover {
        background: #218838;
        color: white;
        text-decoration: none;
        transform: translateY(-2px);
    }
    
    .btn-secondary {
        background: #6c757d;
        color: white;
    }
    
    .btn-secondary:hover {
        background: #545b62;
        color: white;
        text-decoration: none;
    }
    
    .btn-outline {
        background: transparent;
        color: #28a745;
        border-color: #28a745;
    }
    
    .btn-outline:hover {
        background: #28a745;
        color: white;
        text-decoration: none;
    }
    
    .highlight-box {
        background: linear-gradient(135deg, #fff3cd, #ffeaa7);
        border: 1px solid #ffeaa7;
        border-radius: 10px;
        padding: 20px;
        margin: 20px 0;
        text-align: center;
    }
    
    .highlight-box h3 {
        color: #856404;
        margin-bottom: 10px;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin: 20px 0;
    }
    
    .stat-item {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        border: 1px solid #dee2e6;
    }
    
    .stat-number {
        font-size: 2rem;
        font-weight: bold;
        color: #28a745;
        display: block;
    }
    
    .stat-label {
        color: #6c757d;
        font-size: 0.9rem;
        margin-top: 5px;
    }
    
    @media (max-width: 768px) {
        .intro-header h1 {
            font-size: 2rem;
        }
        
        .action-buttons {
            flex-direction: column;
        }
        
        .btn {
            text-align: center;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="intro-container">
    <!-- 页面头部 -->
    <div class="intro-header">
        <h1><i class="fas fa-book"></i> 税务政策库</h1>
        <p>全面的税务政策集中管理与查询平台</p>
    </div>
    
    <!-- 功能介绍 -->
    <div class="content-sections">
        <div class="section-card">
            <h2><i class="fas fa-info-circle"></i> 功能简介</h2>
            <p style="font-size: 1.1rem; line-height: 1.6; color: #495057;">
                税务政策库是 KnowTax 智知税典的核心组件，集中管理和维护各类税务政策法规。
                该库提供全面的政策查询、分类管理、版本控制等功能，为税务工作者提供准确、及时的政策信息支持。
            </p>
            
            <div class="feature-grid">
                <div class="feature-item">
                    <h4><i class="fas fa-search"></i> 智能检索</h4>
                    <p>支持关键词、分类、时间范围等多维度检索，快速定位所需政策信息</p>
                </div>
                <div class="feature-item">
                    <h4><i class="fas fa-tags"></i> 分类管理</h4>
                    <p>按税种、适用对象、发布机构等多重维度进行科学分类，便于系统化管理</p>
                </div>
                <div class="feature-item">
                    <h4><i class="fas fa-history"></i> 版本追踪</h4>
                    <p>完整记录政策的修订历史，支持版本对比和变更追踪</p>
                </div>
                <div class="feature-item">
                    <h4><i class="fas fa-bell"></i> 更新提醒</h4>
                    <p>自动监控政策更新，及时推送最新政策变化信息</p>
                </div>
            </div>
        </div>
        
        <!-- 数据统计 -->
        <div class="section-card">
            <h2><i class="fas fa-chart-bar"></i> 数据概览</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number">2,156</span>
                    <div class="stat-label">政策文件总数</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number">18</span>
                    <div class="stat-label">政策分类</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number">156</span>
                    <div class="stat-label">本月新增</div>
                </div>
                <div class="stat-item">
                    <span class="stat-number">89</span>
                    <div class="stat-label">本月更新</div>
                </div>
            </div>
        </div>
        
        <!-- 示例展示 -->
        <div class="section-card">
            <h2><i class="fas fa-file-alt"></i> 政策示例</h2>
            <p>以下是政策库中的典型政策文件示例：</p>
            
            <div class="example-box">
                <div class="example-item">
                    <h4>增值税税率调整通知</h4>
                    <p><strong>文件编号：</strong> 财税〔2024〕15号</p>
                    <p><strong>主要内容：</strong> 自2024年4月1日起，调整部分行业增值税税率，制造业等行业税率由16%降至13%，交通运输、建筑等行业税率由10%降至9%...</p>
                    <div class="example-meta">
                        <span><i class="fas fa-calendar"></i> 发布时间：2024-03-15</span>
                        <span><i class="fas fa-building"></i> 发布机构：财政部、国家税务总局</span>
                        <span><i class="fas fa-tag"></i> 分类：增值税</span>
                    </div>
                </div>
                
                <div class="example-item">
                    <h4>企业所得税优惠政策实施办法</h4>
                    <p><strong>文件编号：</strong> 国税发〔2024〕8号</p>
                    <p><strong>主要内容：</strong> 明确小微企业所得税优惠政策适用条件，年应纳税所得额不超过100万元的部分，减按25%计入应纳税所得额...</p>
                    <div class="example-meta">
                        <span><i class="fas fa-calendar"></i> 发布时间：2024-02-20</span>
                        <span><i class="fas fa-building"></i> 发布机构：国家税务总局</span>
                        <span><i class="fas fa-tag"></i> 分类：企业所得税</span>
                    </div>
                </div>
                
                <div class="example-item">
                    <h4>个人所得税专项附加扣除暂行办法</h4>
                    <p><strong>文件编号：</strong> 国发〔2024〕3号</p>
                    <p><strong>主要内容：</strong> 个人所得税专项附加扣除，包括子女教育、继续教育、大病医疗、住房贷款利息、住房租金、赡养老人等六项...</p>
                    <div class="example-meta">
                        <span><i class="fas fa-calendar"></i> 发布时间：2024-01-10</span>
                        <span><i class="fas fa-building"></i> 发布机构：国务院</span>
                        <span><i class="fas fa-tag"></i> 分类：个人所得税</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 重要提示 -->
        <div class="highlight-box">
            <h3><i class="fas fa-exclamation-triangle"></i> 重要提示</h3>
            <p>上述示例仅为展示格式，具体政策内容请以官方发布的正式文件为准。如需查看完整的政策库内容和进行详细的政策管理操作，请访问后端管理系统。</p>
        </div>
        
        <!-- 操作按钮 -->
        <div class="section-card">
            <h2><i class="fas fa-cogs"></i> 管理操作</h2>
            <p>选择合适的方式访问和管理税务政策库：</p>
            
            <div class="action-buttons">
                <a href="{{ url_for('integration.dashboard') }}" class="btn btn-primary">
                    <i class="fas fa-tachometer-alt"></i> 集成管理界面
                </a>
                <a href="http://localhost:8000/knowledge" target="_blank" class="btn btn-secondary">
                    <i class="fas fa-external-link-alt"></i> 直接访问后端
                </a>
                <a href="http://localhost:8000/docs#/Knowledge%20Management" target="_blank" class="btn btn-outline">
                    <i class="fas fa-book-open"></i> API文档
                </a>
                <a href="javascript:void(0)" onclick="searchDemo()" class="btn btn-outline">
                    <i class="fas fa-search"></i> 搜索演示
                </a>
            </div>
        </div>
    </div>
</div>

<script>
function searchDemo() {
    alert('政策搜索功能演示：\n\n1. 支持关键词检索\n2. 按分类筛选\n3. 时间范围查询\n4. 全文搜索\n\n请访问后端管理系统体验完整功能！');
}

// 添加一些交互效果
document.addEventListener('DOMContentLoaded', function() {
    // 为统计数字添加动画效果
    const statNumbers = document.querySelectorAll('.stat-number');
    statNumbers.forEach(stat => {
        const finalValue = parseInt(stat.textContent);
        let currentValue = 0;
        const increment = Math.ceil(finalValue / 50);
        
        const timer = setInterval(() => {
            currentValue += increment;
            if (currentValue >= finalValue) {
                currentValue = finalValue;
                clearInterval(timer);
            }
            stat.textContent = currentValue.toLocaleString();
        }, 30);
    });
    
    // 为卡片添加悬停效果
    const cards = document.querySelectorAll('.section-card, .feature-item');
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.transition = 'transform 0.3s ease';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
});
</script>
{% endblock %} 
# KnowTax 智知税典 - 税务知识管理系统

KnowTax是一个基于Flask开发的智能税务知识管理系统，为税务专业人员和相关从业者提供全面的税务政策查询、问答管理和知识库服务。

## 🚀 主要功能

### 核心数据管理
- **税务政策库**: 集中管理税务相关政策文件，包括增值税、企业所得税等各类税务政策
- **问答库**: 维护常见税务问题及其标准答案，支持分类管理
- **专业词库**: 收录税务专业术语及其释义，便于学习和查询

### 用户角色管理
系统支持三种用户角色，每种角色具有不同的权限和功能：

#### 🔐 管理员 (Admin)
- 权限管理：管理用户权限分配
- 用户状态监控：查看和管理用户账户状态
- 系统配置管理

#### 👔 经理 (Manager) 
- 用户状态管理：监控用户活动状态
- 待审批任务：处理需要审批的内容更新
- 高频问题分析：查看用户最常查询的问题
- 政策更新管理：管理政策库的更新流程

#### 🎧 客服 (Service)
- 搜索功能：为用户提供知识库搜索服务
- 用户状态查询：查看用户基本信息和状态

### 数据可视化
- **资源总量构成图表**: 展示各类数据资源的分布情况
- **资源统计面板**: 实时显示数据总量、更新量等关键指标
- **基础库统计**: 分别统计政策库、知识库、词库的数据量
- **高频查询统计**: 显示最常被查询的内容及查询次数

## 🛠️ 技术架构

### 后端技术栈
- **Flask**: Web应用框架
- **SQLAlchemy**: 数据库ORM
- **SQLite**: 数据库存储
- **Werkzeug**: 密码加密和安全管理

### 前端技术栈
- **HTML5/CSS3**: 页面结构和样式
- **JavaScript/jQuery**: 交互功能
- **ECharts**: 数据可视化图表
- **响应式设计**: 支持多设备访问

## 📁 项目结构

```
├── app.py              # 主应用入口文件
├── create_user.py      # 用户初始化脚本
├── models/
│   └── user.py         # 用户数据模型
├── routes/
│   ├── auth.py         # 认证路由
│   ├── admin.py        # 管理员功能路由
│   ├── manager.py      # 经理功能路由  
│   ├── service.py      # 客服功能路由
│   └── data.py         # 数据管理路由
├── templates/          # HTML模板文件
│   ├── base.html       # 基础模板
│   ├── home.html       # 主页面
│   ├── login.html      # 登录页面
│   └── ...            # 其他功能页面
└── static/            # 静态资源文件
    ├── css/           # 样式文件
    ├── js/            # JavaScript文件
    └── icon/          # 图标文件
```

## 🔧 安装与运行

### 环境要求
- Python 3.7+
- Flask
- Flask-SQLAlchemy

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd tax_management_system
   ```

2. **安装依赖**
   ```bash
   pip install flask flask-sqlalchemy
   ```

3. **初始化用户**
   ```bash
   python create_user.py
   ```

4. **运行应用**
   ```bash
   python app.py
   ```

5. **访问系统**
   打开浏览器访问: `http://localhost:12345`

### 默认账户

系统预设了三个测试账户：

| 角色 | 用户名 | 密码 | 权限 |
|------|--------|------|------|
| 管理员 | admin_user | admin_pass | 完整系统管理权限 |
| 经理 | manager_user | manager_pass | 知识管理和审核权限 |
| 客服 | service_user | service_pass | 搜索和用户查询权限 |

## 💡 使用指南

1. **登录系统**: 选择对应角色的账户登录
2. **浏览仪表板**: 查看系统统计数据和资源概况
3. **管理数据**: 根据权限管理政策库、问答库、词库
4. **用户管理**: 管理员可进行用户权限分配
5. **内容审核**: 经理可处理待审批的内容更新

## 🔒 安全特性

- 基于Session的用户认证
- 密码哈希加密存储
- 角色权限控制
- SQL注入防护

## 📊 数据库

系统使用SQLite数据库，包含以下主要表：
- `users`: 用户信息表，存储用户账户和角色信息

## 🚧 开发说明

系统目前使用模拟数据进行演示，实际部署时需要：
1. 连接真实的数据库
2. 实现完整的CRUD操作
3. 添加数据验证和错误处理
4. 优化性能和安全性

## 📄 许可证

本项目仅供学习和研究使用。

---

**快速启动命令**: `python app.py`